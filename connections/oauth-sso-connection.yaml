spec_version: v1
kind: connection
app_id: oauth_sso_connection
name: oauth_sso_connection
description: "OAuth with SSO (Single Sign-On) connection for enterprise integrations"
environments:
  draft:
    kind: oauth_auth_on_behalf_of_flow
    type: member
    sso: true
    server_url: "https://{{SERVER_URL}}"
    headers:
      Content-Type: "application/json"
      Accept: "application/json"
      User-Agent: "Watson-x-Orchestrate/1.0"
    # Identity Provider Configuration (e.g., Microsoft Azure AD, Google)
    idp_config:
      header:
        content-type: application/x-www-form-urlencoded
      body:
        requested_token_use: on_behalf_of
        requested_token_type: urn:ietf:params:oauth:token-type:saml2
        # Additional IDP-specific parameters:
        # scope: "{{IDP_SCOPE}}"
        # resource: "{{IDP_RESOURCE}}"
    # Application Configuration
    app_config:
      header:
        content-type: application/x-www-form-urlencoded
      body:
        # App-specific OAuth parameters:
        # grant_type: authorization_code
        # client_id: "{{CLIENT_ID}}"
        # client_secret: "{{CLIENT_SECRET}}"
